tinymce.MCMSWindowManager=tinymce.InlineWindowManager=function(a){return this.mcms?this:(this.mcms={},this.parent=a.windowManager,this.editor=a,tinymce.extend(this,this.parent),this.open=function(b,c){var d,e=this,f=this.mcms;if(!b.mcmsDialog)return this.parent.open.apply(this,arguments);if(b.id){if("undefined"==typeof jQuery||!jQuery.mcms||!jQuery.mcms.mcmsdialog)return void(window.console&&window.console.error&&window.console.error('mcmsdialog.js is not loaded. Please set "mcmsdialogs" as dependency for your script when calling mcms_enqueue_script(). You may also want to enqueue the "mcms-jquery-ui-dialog" stylesheet.'));f.$element=d=jQuery("#"+b.id),d.length&&(window.console&&window.console.log&&window.console.log("tinymce.MCMSWindowManager is deprecated. Use the default editor.windowManager to open dialogs with inline HTML."),f.features=b,f.params=c,a.nodeChanged(),d.data("mcmsdialog")||d.mcmsdialog({title:b.title,width:b.width,height:b.height,modal:!0,dialogClass:"mcms-dialog",zIndex:3e5}),d.mcmsdialog("open"),d.on("mcmsdialogclose",function(){e.mcms.$element&&(e.mcms={})}))}},void(this.close=function(){return this.mcms.features&&this.mcms.features.mcmsDialog?void this.mcms.$element.mcmsdialog("close"):this.parent.close.apply(this,arguments)}))},tinymce.ModuleManager.add("mcmsdialogs",function(a){a.on("init",function(){a.windowManager=new tinymce.MCMSWindowManager(a)})});